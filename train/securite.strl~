% export ESTEREL=/Vrac/PC2R/esterelv5_92
% //bibliothèque libcsimul.a dans /Vrac/PC2R/esterelv5_92/lib/
% export PATH=$ESTEREL/bin:$PATH:.
% esterel securite.strl -B securite -simul
% gcc -m32 -o securite securite.c -L/Vrac/PC2R/esterelv5_92/lib -l csimul
% //-m32 indique bits, si pose problème, essayez sans
% $ ./securite 
% securite> ;;;

module securite :

inputoutput FREINER : integer;
inputoutput PRESENCE;
  
  var cpt :=0 : integer in
    loop
      present PRESENCE 
        then cpt := 0
        else cpt:=cpt+1
      end present;
      if(cpt>=10) then
        emit FREINER(3)
      end if;
    each tick
  end var
  
end module
